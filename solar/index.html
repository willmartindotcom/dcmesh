<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Building a Solar-Powered Meshtastic Repeater | Austin Mesh</title>
        <meta name="description" content="Tried and tested solar-powered repeater build methods and parts for making your own Meshtastic repeater.">
        <meta name="viewport" charset="utf-8" content="width=device-width, initial-scale=1.0">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="stylesheet" href="https://matcha.mizu.sh/matcha.css">
        <link rel="stylesheet" href="../styles.css">
    </head>
    <body>
        <header>
            <a href="/"><img src="../images/Austin-Mesh-Logo.svg" alt="Logo for Austin Mesh" title="Austin Mesh" width="500" height="121" /></a>
        </header>
        <main>
            <nav>
                <menu>
                    <li><a href="/">Home</a></li>
                    <li>
                        <a href="/learn/">Learn</a>
                        <menu>
                            <li><a href="/learn/#about">About</a></li>
                            <li><a href="/learn/#coverage">Network coverage</a></li>
                            <li><a href="/learn/#comparisons">Similar technology</a></li>
                        </menu>
                    </li>
                    <li>
                        <a href="/join/">Join</a>
                        <menu>
                            <li><a href="/join/#network">Join the network</a></li>
                            <li><a href="/join/#best-practices">Best practices</a></li>
                            <li><a href="/join/#group">Join the group</a></li>
                        </menu>
                    </li>
                    <li>
                        <a href="/solar/">Solar</a>
                        <menu>
                            <li><a href="/solar/#history">History</a></li>
                            <li><a href="/solar/#parts-list">Parts list</a></li>
                        </menu>
                    </li>
                    <li>
                        <a href="/similar-networks/">Similar networks</a>
                        <menu>
                            <li><a href="/similar-networks/#other-meshes">Other meshes</a></li>
                            <li><a href="/similar-networks/#start-a-similar-network">Start a similar network</a></li>
                        </menu>
                    </li>
                    <li><a href="/partners/">Partners</a></li>
                </menu>
            </nav>
            <h1>Building a Solar-Powered Repeater for Meshtastic</h1>
            <ul>
                <li><a href="#history">A brief history</a>
                    <ul>
                        <li>Versions</li>
                        <li>Lessons learned</li>
                        <li>Considerations for other climates</li>
                    </ul>
                </li>
                <li><a href="#parts-list">Parts list</a>
                    <ul>
                        <li>Regular parts</li>
                        <li>Birdhouse parts</li>
                    </ul>
                </li>
            </ul>
            <section id="history">
                <h2>A brief history</h2>
                <h3>History of versions</h3>
                <p>We have tried 5 permutations of solar powering nodes:</p>
                <details>
                <summary>Version 1.0 RAKBox-B2 2000mah LiPo</summary>
                <p>Using RAK RAKBox-B2 Enclosure with solar panel. The panel was connected directly to the RAK Wireless WisBlock Meshtastic Starter Kit US915. We connected a 2000 MAh Lithium Polymer battery directly to the RAK board. We drilled a hole in the top of the box and attached a fiberglass antenna, which was connected to the RAK board with an iPEX to N-Type connector. We mounted this on top of one of the UT buildings and it died within a month. The 0.4 watt panel is way too small.</p>
                </details>
                <details>
                <summary>Version 2.0 USB Solar</summary>
                <p>Same as 1.0 but we added a second 5 watt solar panel that was connected to the RAK board via USB. Also died within a month.</p>
                </details>
                <details>
                <summary>Version 3.0 Internal Solar, Power Module, 18650's</summary>
                <p>To minimize the amount of components outside the box we used a much larger box with a clear lid and placed the solar panel inside the box. We added a Texas Instruments Green Power Module between the solar panel and the RAK board to help regulate the power. For batteries we switched to using four 18650 batteries and we also added an overdischarge protection circuit from Voltaic Enclosures (not to be confused with Voltaic Systems) between the battery and the RAK board to provide clean shutoff when battery voltage fell below 2.5v. We mounted this on top of the UT buildings and it died in 3 months.</p>
                </details>
                <details>
                <summary>Version 4.0 External Solar</summary>
                <p>Same as Version 3.0 but we mounted the solar panel outside of the box (using a smaller box). We mounted this on a pole and it died within 3 months.</p>
                </details>
                <details open>
                <summary>Version 5.0 (Currently running)</summary>
                <p>For this version we stopped using the RAK’s solar and battery connectors entirely. Instead we connected a large 12 watt solar panel to a Voltaic Systems battery via USB and then connected the battery to the RAK board via USB. The Voltaic Systems battery acts as the solar charge controller and also acts as the overdischarge protection circuit; the battery will charge at a range of voltages from the solar panel (if it gets shaded) and the battery will shut off if the voltages drops too low and will reboot itself once it has recharged sufficiently.</p>
                </details>
                <h3>Lessons learned:</h3>
                <ol>
                    <li>Don’t trust the RAK board to handle varying solar voltage or varying battery voltage. It is very unhappy if either voltage goes outside of a narrow range. In fact there is a <a href="https://meshtastic.discourse.group/t/rak-4631-solar-repeater/7694/7">known issue</a> where the Nordic nRF52840 module inside of the RAK 4631 chip causes it to enter a “Super Deep Sleep” fault state when it is supplied with 3.3V. This means when the battery voltage falls too low the RAK chip shuts down and can only be rebooted manually.</li>
                    <li>Solar panels: bigger is better. 10 watts or more is ideal.</li>
                    <li>Battery: bigger is better. 5,000 mAh or more is ideal.</li>
                    <li>Antenna: fiberglass antennas are the most robust and can handle wind, rain, and UV light better than rubber ducky antennas.</li>
                    <li>Heat can kill the battery – it is best to shade the box containing the battery.</li>
                    <li>Don’t add any modules. The GPS module increases battery usage significantly and is unnecessary if the repeater is in a fixed position.</li>
                    <li>Seal everything properly and make sure water has a way to get out of the case. Use o-rings for the antenna mount and wrap connectors in proxicast. Add a drain plug to the case so any condensation has a way to escape. For high humidity environments, spray the electronics with conformal coating.</li>
                </ol>
                <p>These are lessons learned from Austin Texas, where the main environmental stressors are heat and thunderstorms. In the summer of 2023 we 80 days over 100° F (38°C) and we had a stretch of 11 days over 105° F (40.5°C), during which two radios died. We also can have both high humidity and high temperature at the same time in Austin; in the summer the weather would swing from 80° F (27°C) with 85% humidity in the morning to 105° F (38°C) with 25% humidity in the afternoon. <a href="https://weatherspark.com/h/y/8004/2023/Historical-Weather-during-2023-in-Austin-Texas-United-States">Weather history here.</a> Our learnings are probably applicable to other southern and desert climates.</p>
                <details>
                <summary>Details on the boards that died</summary>
                <p>One was filled with water, the antenna seal didn't work. That's why the vent valve at the bottom is so important. One died because it got stuck in the low voltage state that requires a physical reset - that's fixed with the Voltaic packs. The third one died due to unknown causes but heat is suspected. When we tried to reboot with with wall power it wouldn't turn on - so the board was totally fried. That one I also sprayed with covalent coating nasty stuff that we won't use any more.</p>
                </details>
                <h3>Considerations for other climates</h3>
                <ol>
                    <li>Northern Climates: At higher latitudes there is much less sunshine in the winter. A larger solar panel would be necessary and angling the panel lower to the horizon would be beneficial. The rule of thumb is to angle the solar panels at the same degree as your latitude. In Austin our panels should be angled at 30° but in Calgary the optimal angle would be 50°. Batteries should also be bigger in colder climates as low temperatures reduce their performance.</li>
                    <li>Coastal Climates: salt spray and condensation from fog can kill electronics quickly. In coastal climates it is best to spray the electronics with conformal coating.</li>
                </ol>
            </section>
            <section id="parts-list">
                <h2>Parts list</h3>
                <p>With all that said, here is the parts list for our most-preferred way to build a solar powered repeater. This design doesn’t require any soldering or complicated connectors. It also doesn’t require any battery management chips (which often have long shipping lead times and can be hard to get). For this design the solar panel is connected directly to the battery pack via USB. Then the battery pack is connected to the board via USB. The Voltaic Systems V25 battery is nice because it is optimized to charge from a solar panel and it is set standard to an “always on” mode which means the battery bank does not shut off after a set amount of time like other battery packs – this is useful as the RAK chip uses very little power and can trick other battery packs into shutting off. The other really nice thing about the Voltaic pack is than when it drains down completely it shuts down, but then once the solar panel has sufficiently charged it back up it will automatically turn itself back on again. The RAK radio uses between 100 and 1000 mAh per day, with about 400 mAh per day being average so theoretically the 6,400mAh Voltaic V25 could keep the radio running for 16 days without solar.</p>
                <h3>Regular parts</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Product Name</th>
                                <th>Cost</th>
                                <th>Link</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Solar Panel</td>
                                <td>Soshine 12W</td>
                                <td>$30</td>
                                <td><a href="https://www.amazon.com/Soshine-USB-Solar-Panel-Monocrystalline/dp/B0CKXQ1XQ9">Amazon</a> or <a href="https://www.aliexpress.us/item/3256805874482226.html">AliExpress</a></td>
                            </tr>
                            <tr>
                                <td>Battery</td>
                                <td>Voltaic Systems V25</td>
                                <td>$44</td>
                                <td><a href="https://www.amazon.com/Voltaic-Systems-Formerly-Battery-Samsung/dp/B08232MRMC">Amazon</a> or <a href="https://voltaicsystems.com/v25">Volatic Systems</a></td>
                            </tr>
                            <tr>
                                <td>Rak Board</td>
                                <td>RAK Meshtastic Kit</td>
                                <td>$37</td>
                                <td><a href="https://store.rokland.com/products/rak-wireless-wisblock-meshtastic-starter-kit">Rokland</a></td>
                            </tr>
                            <tr>
                                <td>Antenna Connector</td>
                                <td>IPEX to N Type Female</td>
                                <td>$4</td>
                                <td><a href="https://www.amazon.com/gp/product/B09N3LPBYB">Amazon</a></td>
                            </tr>
                            <tr>
                                <td>Antenna</td>
                                <td>915 MHz 3 dBi N-Female</td>
                                <td>$39</td>
                                <td><a href="https://store.rokland.com/collections/802-11ah-wi-fi-halow/products/3-dbi-rak-brand-fiberglass-outdoor-antenna-bracket-mount-for-rak-bobcat-sensecap">Rokland</a>
                            </td>
                        </tr>
                        <tr>
                            <td>Box</td>
                            <td>ABS Box with mounting tabs, 158mm x 90mm x 46mm</td>
                            <td>$9</td>
                            <td><a href="https://www.amazon.com/dp/B07NSSJ4H1/">Amazon</a> or <a href="https://www.aliexpress.us/item/3256803025946686.html">AliExpress</a></td>
                        </tr>
                        <tr>
                            <td>Drain Plug</td>
                            <td>VENT-PS1YBK-N8001</td>
                            <td>$5</td>
                            <td><a href="https://www.mouser.com/ProductDetail/Amphenol-LTW/VENT-PS1YBK-N8001?qs=5aG0NVq1C4wAxWre7fChJA%3D%3D">Mouser</a> or <a href="https://www.amazon.com/gp/product/B0BKY2LLLV/">Amazon</a></td>
                        </tr>
                        <tr>
                            <td>USB Cable Pass-Through</td>
                            <td>3/4 NPT Cable Gland</td>
                            <td>$2</td>
                            <td><a href="https://www.amazon.com/gp/product/B07ZRHPRP7">Amazon</a></td>
                        </tr>
                        <tr>
                            <td>Antenna Wrap</td>
                            <td>Proxicast</td>
                            <td>$2</td>
                            <td><a href="https://www.amazon.com/gp/product/B00K5GW67O/">Amazon</a></td>
                        </tr>
                        <tr>
                            <td>Coax Cable</td>
                            <td>2' KMR400 N to N</td>
                            <td>$13</td>
                            <td><a href="https://www.amazon.com/gp/product/B0BF4F8R8W/">Amazon</a></td>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td><strong>$185</strong></td>
                                <td>&nbsp;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <h3>Birdhouse parts</h3>
                <p>To turn this repeater into a solar-powered meshtastic birdhouse you can just add the following components. Simply paint the top of the birdhouse black and glue on the solar panel, cut a hole in the back of the birdhouse big enough to put the box into it, attach the antenna mount L-Bracket to the side of the birdhouse, and connect the box to the antenna on the mount with the pigtail using the jam nut.</p>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Product Name</th>
                                <th>Cost</th>
                                <th>Link</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Birdhouse</td>
                                <td>Birdhouse</td>
                                <td>$25</td>
                                <td><a href="https://www.amazon.com/dp/B08T92JBCK">Amazon</a></td>
                            </tr>
                            <tr>
                                <td>Pigtail Cable</td>
                                <td>Pigtail Cable</td>
                                <td>$10</td>
                                <td><a href="https://www.amazon.com/gp/product/B09D3H19WF/">Amazon</a></td>
                            </tr>
                            <tr>
                                <td>Jam Nut</td>
                                <td>Jam Nut</td>
                                <td>$12</td>
                                <td><a href="https://www.amazon.com/dp/B08VCJXMXW">Amazon</a></td>
                            </tr>
                            <tr>
                                <td>Antenna Bracket</td>
                                <td>Larsen Mobile Antenna Mounts TMB58B</td>
                                <td>$15</td>
                                <td><a href="https://www.dxengineering.com/parts/lsn-tmb58b">DX Engineering</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
        <footer>
            <p>Our website content is licensed under Creative Commons
                <br>feel free to use if for your club's website: <a href="https://github.com/willmartindotcom/austinmesh">Github</a>
                <br>If we've inspired you, please <a href="mailto:info@austinmesh.org">email us</a>!
            <br>This site is (c) by Will Martin and is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.</p>
        </footer>
    </body>
</html>